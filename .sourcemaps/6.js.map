{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage)\n  ],\n  exports: [\n    HomePage\n  ]\n})\nexport class UsersModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, Platform, NavController, NavParams, LoadingController, Loading, AlertController, ModalController, Events, ActionSheetController } from 'ionic-angular';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { PhotoLibrary } from '@ionic-native/photo-library';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\n\n@IonicPage()\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\n\nexport class HomePage {\n\n  name: any;\n  email: any;\n  foto: any;\n  loading: Loading;\n  public photos: any = [];\n\n  constructor(\n    private camera: Camera,\n    public navCtrl: NavController,\n    private socialSharing: SocialSharing,\n    afAuth: AngularFireAuth,\n    public authData: AuthProvider,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public modalCtrl: ModalController,\n    public events: Events,\n    public platform: Platform,\n    public navParams: NavParams,\n    private photoLibrary: PhotoLibrary,\n    public actionSheetCtrl: ActionSheetController,\n    private screenOrientation: ScreenOrientation\n  ) {\n    if (platform.is('cordova')) {\n      this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n    }\n    let agregarImage = this.navParams.get('foto')\n    if (agregarImage) {\n      this.photos.push(agregarImage);\n    }\n\n    afAuth.authState.subscribe(user => {\n      if (user) {\n        this.name = user.displayName;\n        this.email = user.email;\n        this.foto = user.photoURL;\n      }\n    });\n\n  }\n\n  deletePhoto(index) {\n    let confirm = this\n      .alertCtrl\n      .create({\n        title: '¿Seguro que quieres eliminar esta foto?',\n        message: '',\n        buttons: [\n          {\n            text: 'No'\n          }, {\n            text: 'Si',\n            handler: () => {\n              this.photos.splice(index, 1);\n            }\n          }\n        ]\n      });\n    confirm.present();\n  }\n\n  sendEdit() {\n    this.navCtrl.push('EditImagePage');\n  }\n\n  sendModal(id) {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'Gestionar Foto',\n      cssClass: 'action-sheets-basic-page',\n      buttons: [\n        {\n          text: 'Eliminar',\n          role: 'destructive',\n          icon: 'trash',\n          handler: () => {\n            this.deletePhoto(id);\n          }\n        }, {\n          text: 'Compartir',\n          icon: 'share',\n          handler: () => {\n            this.socialSharing.share(\"Mira lo que hice con PhotoLink, que esperas vos?\", null, this.photos[id], null);\n          }\n        }, {\n          text: 'Editar',\n          icon: 'brush',\n          handler: () => {\n            let modal = this.modalCtrl.create('EditImagePage', {\n              photo: this.photos[id]\n            });\n            modal.present();\n          }\n        }, {\n          text: 'Guardar',\n          icon: 'archive',\n          handler: () => {\n            this.photoLibrary.requestAuthorization().then(() => {\n              this.photoLibrary.saveImage(this.photos[id], 'photoLink');\n            });\n          }\n        }, {\n          text: 'Cancel',\n          role: 'cancel',\n          icon: 'close',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n\n  }\n\n  takePhoto() {\n    const options: CameraOptions = {\n      allowEdit: false,\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      targetHeight: 1920,\n      correctOrientation: true,\n    }\n    this\n      .camera\n      .getPicture(options)\n      .then((imageData) => {\n        let base64Image = \"data:image/png;base64,\" + imageData;\n        this\n          .photos\n          .push(base64Image);\n        this\n          .photos\n          .reverse();\n      }, (err) => {\n        console.log(err);\n      });\n  }\n\n  instagramShare() {\n    this.socialSharing.shareViaInstagram(`PhotoLink la app de tu región`, \"www/assets/icon/photolink.png\");\n  }\n\n  twitterShare() {\n    this.socialSharing.shareViaTwitter(\"PhotoLink la app de tu región\", \"www/assets/icon/photolink.png\", null);\n  }\n\n  regularShare() {\n    // share(message, subject, file, url)\n    this.socialSharing.share(\"PhotoLink la app de tu región\", null, \"www/assets/icon/photolink.png\", null);\n  }\n\n  whatsappShare() {\n    this.socialSharing.shareViaWhatsApp(\"PhotoLink la app de tu región\", \"www/assets/icon/photolink.png\", null);\n  }\n\n  logoutUser() {\n    this.authData.logoutUser()\n      .then((info) => {\n        this.navCtrl.setRoot('TutorialPage');\n      }, error => {\n        this.loading.dismiss().then(() => {\n          let alert = this.alertCtrl.create({\n            message: error.message,\n            buttons: [\n              {\n                text: \"Ok\",\n                role: 'cancel'\n              }\n            ]\n          });\n          alert.present();\n        });\n      });\n\n    this.loading = this.loadingCtrl.create({\n      dismissOnPageChange: true,\n    });\n    this.loading.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}