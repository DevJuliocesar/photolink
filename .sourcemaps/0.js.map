{"version":3,"sources":["../../src/pages/edit-image/edit-image.module.ts","../../src/pages/edit-image/edit-image.ts","../../src/components/components.module.ts","../../src/components/canvas-draw/canvas-draw.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditImagePage } from './edit-image';\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    EditImagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditImagePage),\n    ComponentsModule\n  ],\n})\nexport class EditImagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-image/edit-image.module.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, Platform, NavParams, ViewController, PopoverController } from 'ionic-angular';\nimport { PopoverComponent } from '../../components/popover/popover';\nimport { TextComponent } from '../../components/text/text';\nimport 'fabric';\ndeclare const fabric: any;\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-image',\n  templateUrl: 'edit-image.html',\n})\nexport class EditImagePage {\n\n  @ViewChild('myCanvas', { read: ElementRef }) canvasJC: ElementRef;\n  @ViewChild('styleIcon', { read: ElementRef }) styleIcon: ElementRef;\n\n  openMenu = false;\n  private canvas;\n  iconMove: string = 'ios-brush';\n  textString: string;\n  showColorPaletteIcon = false;\n\n  items = [\n    'assets/img/iconos/BARBATUSCA.svg',\n    'assets/img/iconos/CEBOLLA.svg',\n    'assets/img/iconos/COLUMNA.svg',\n    'assets/img/iconos/CUPULA.svg'\n  ];\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    public platform: Platform,\n    private popoverCtrl: PopoverController\n  ) { }\n\n  ngAfterContentInit() {\n    this.canvas = new fabric.Canvas(this.canvasJC.nativeElement); //Creacion del canvas con fabric\n    this.canvas.isDrawingMode = false;\n    this.canvas.freeDrawingBrush.width = 6;\n    this.containerResize(); //Redimensionar canvas al contenedor\n\n    if (this.navParams.get('photo')) { // Si es nativo\n      this.setBackgroundImageToCanvas(this.navParams.get('photo'));\n    } else {      // Si no esm nativo, borrar esto\n      this.setBackgroundImageToCanvas('http://i.imgur.com/tENv1w4.jpg');\n    }\n  }\n\n  containerResize() {\n    this.canvas.setWidth(this.platform.width());\n    this.canvas.setHeight(this.platform.height() - 112);\n    this.canvas.width = this.platform.width();\n    this.canvas.height = this.platform.height() - 112;\n  }\n\n  setBackgroundImageToCanvas(image) {\n    let img = new Image();\n    let foto = image;\n    img.crossOrigin = \"anonymous\";\n    img.src = foto;\n    let canvas = this.canvas;\n    img.onload = function () {\n      canvas.setBackgroundImage(new fabric.Image(img, {\n        scaleY: canvas.width / img.width,\n        scaleX: canvas.width / img.width,\n        originX: 'left',\n        originY: 'top'\n      }), canvas.renderAll.bind(canvas));\n      if (img.height > 0) {\n        canvas.setHeight(img.height * (canvas.width / img.width));\n      }\n    }\n  }\n\n  drawingMode() {\n    if (this.canvas.isDrawingMode == true) {\n      // if fabric is in drawing mode, exit drawing mode\n      this.showColorPaletteIcon = false; // hind color palette icon\n      this.canvas.isDrawingMode = false;\n      this.iconMove = 'ios-brush';\n    } else {\n      // if fabric is not in drawing mode, enter drawing mode\n      this.showColorPaletteIcon = true; // show color palette icon\n      this.canvas.isDrawingMode = true;\n      this.iconMove = 'hand';\n    }\n  }\n\n  presentPopover(ev) {\n    let popover = this.popoverCtrl.create(PopoverComponent, {\n      contentEle: this.canvas,\n      iconPaleta: this.styleIcon.nativeElement\n    });\n    popover.present({\n      ev: ev\n    });\n  }\n\n  togglePopupMenu() {\n    return this.openMenu = !this.openMenu;\n  }\n\n  goToPopup(data) {\n    this.addImageOnCanvas(data);\n    this.togglePopupMenu();\n  }\n\n  closeModal() {\n    this.viewCtrl.dismiss();\n  }\n\n  addText(ev) {\n    let popover = this.popoverCtrl.create(TextComponent, {\n      contentEle: this.canvas,\n    });\n    popover.present({\n      ev: ev\n    });\n  }\n\n  addImageOnCanvas(imagen) {\n    this.showColorPaletteIcon = false; // hind color palette icon\n    this.canvas.isDrawingMode = false;\n    this.iconMove = 'ios-brush';\n    fabric.Image.fromURL(imagen, (image) => {\n      image.scale(0.2).set({\n        left: 10,\n        top: 10,\n        angle: 0,\n        cornersize: 10,\n        hasRotatingPoint: true\n      });\n      this.extend(image, this.randomId());\n      this.canvas.add(image);\n    });\n  }\n\n  extend(obj, id) {\n    obj.toObject = (function (toObject) {\n      return function () {\n        return fabric.util.object.extend(toObject.call(this), {\n          id: id\n        });\n      };\n    })(obj.toObject);\n  }\n  randomId() {\n    return Math.floor(Math.random() * 999999) + 1;\n  }\n\n  undoLastObject() {\n    let canvas_objects = this.canvas._objects;\n    let last = canvas_objects[canvas_objects.length - 1];\n    this.canvas.remove(last);\n    this.canvas.renderAll();\n  }\n\n  selectDeleteObject() {\n    if (this.canvas.getActiveObject()) {\n      this.canvas.getActiveObject().remove();\n    }\n  }\n\n  saveDrawing() {\n    let drawing = this.canvas.toDataURL();\n    this.navCtrl.push('HomePage', { foto: drawing });\n    this.viewCtrl.dismiss();\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-image/edit-image.ts","import { NgModule } from '@angular/core';\nimport { IonicModule } from 'ionic-angular';\nimport { CanvasDrawComponent } from './canvas-draw/canvas-draw';\n@NgModule({\n\tdeclarations: [CanvasDrawComponent],\n\timports: [\n\t\tIonicModule\n\t],\n\texports: [CanvasDrawComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, ViewChild, Input } from '@angular/core';\nimport { Events, Platform, AlertController } from 'ionic-angular';\nimport 'fabric';\ndeclare const fabric: any;\n\n@Component({\n  selector: 'canvas-draw',\n  templateUrl: 'canvas-draw.html'\n})\nexport class CanvasDrawComponent {\n  foto: any;\n  @Input() set sticker(sticker: string) {\n    if (sticker) {\n      this.addImageOnCanvas(sticker);\n    }\n  };\n  @Input() set imagen(imagen: string) {\n    if (imagen) {\n      this.foto = imagen;\n    }\n  };\n  @Input() set borrar(borrar: string) {\n    if (borrar) {\n      this.undoLastObject();\n    }\n  };\n  @ViewChild('myCanvas') canvasJC: any;\n\n  CanvasElement: any;\n  text: string;\n  private canvas;\n  private textString: string;\n  datoW: any;\n  datoH: any;\n\n  constructor(public events: Events, public platform: Platform, private alertCtrl: AlertController) {\n  }\n\n  ngAfterContentInit() {\n    this.canvas = new fabric.Canvas(this.canvasJC.nativeElement);\n    this.datoH = this.platform.height() - 56;\n    this.datoW = this.platform.width();\n    this.canvas.setWidth(this.platform.width());\n    this.canvas.width = this.platform.width();\n    this.canvas.setHeight(this.datoH);\n    this.canvas.height = this.datoH;\n\n    if (this.foto) {\n\n      this.canvas.setBackgroundImage(this.foto, this.canvas.renderAll.bind(this.canvas), {\n        originX: 'left',\n        originY: 'top'\n      });\n      this.presentAlert();\n    }\n  }\n\n  presentAlert() {\n    let alert = this.alertCtrl.create({\n      title: 'Edición',\n      subTitle: 'Esta en modo edición su imagen',\n      buttons: [{\n        text: 'Cerrar',\n        handler: () => {\n          this.canvas.backgroundImage.scaleToHeight(this.datoH);\n        }\n      }]\n    });\n    alert.present();\n  }\n\n\n  addFigure() {\n    let boundBox = new fabric.Rect({\n      left: 10,\n      top: 10,\n      width: 50,\n      height: 50,\n      fill: 'red',\n      stroke: '#666',\n      strokeDashArray: [5, 5]\n    });\n    this.canvas.add(boundBox);\n  }\n\n  addText() {\n    let text = new fabric.IText('hola', {\n      left: 10,\n      top: 10,\n      fontFamily: 'helvetica',\n      angle: 0,\n      fill: '#000000',\n      scaleX: 0.5,\n      scaleY: 0.5,\n      fontWeight: '',\n      hasRotatingPoint: true\n    });\n    this.extend(text, this.randomId());\n    this.canvas.add(text);\n    this.textString = '';\n  }\n\n  addImageOnCanvas(imagen) {\n    fabric.Image.fromURL(imagen, (image) => {\n      image.scale(0.3).set({\n        left: 10,\n        top: 10,\n        angle: 0,\n        padding: 10,\n        cornersize: 10,\n        hasRotatingPoint: true\n      });\n      this.extend(image, this.randomId());\n      this.canvas.add(image);\n    });\n  }\n\n  extend(obj, id) {\n    obj.toObject = (function (toObject) {\n      return function () {\n        return fabric.util.object.extend(toObject.call(this), {\n          id: id\n        });\n      };\n    })(obj.toObject);\n  }\n  randomId() {\n    return Math.floor(Math.random() * 999999) + 1;\n  }\n\n  undoLastObject() {\n    let canvas_objects = this.canvas._objects;\n    let last = canvas_objects[canvas_objects.length - 1];\n    this.canvas.remove(last);\n    this.canvas.renderAll();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/canvas-draw/canvas-draw.ts"],"sourceRoot":""}